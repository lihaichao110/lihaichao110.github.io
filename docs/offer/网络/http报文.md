# HTTP 协议

> 什么是 HTTP 协议 ？
>
- HTTP 是 Hyper Text Transfer Protocol(超文本传输协议)的缩写。它的发展是万维网协会(World Wide Web Consortium)和 Internet 工作小组IETF(Internet Engineering Task Force)合作的结果，(他们)最终发布了一系列的RFC，RFC 1945定义了HTTP/1.0版本。其中最著名的就是RFC 2616。RFC 2616定义了今天普遍使用的一个版本——HTTP 1.1。

- 超文本传输协议是一种详细规定了浏览器和万维网服务器之间互相通信的规则，通过因特网传送万维网文档的数据传送协议。

- HTTP协议(HyperText Transfer Protocol，超文本传输协议)是用于从WWW服务器传输超文本到本地浏览器的传送协议。它可以使浏览器更加高效，使网络传输减少。它不仅保证计算机正确快速地传输超文本文档，还确定传输文档中的哪一部分，以及哪部分内容首先显示(如文本先于图形)等。

- HTTP是一个应用层协议，由请求和响应构成，是一个标准的客户端服务器模型。HTTP是一个无状态的协议。
- HTTP基于TCP/IP通信协议来传递数据（HTML文件，图片文件、查询结果等）。它不涉及数据包（packet）传输，主要规定了客户端和服务器之间的通信格式，`默认使用80端口`。

> HTTP 协议特点
##### HTTP 协议的主要特点可概括如下：
1. 支持客户/服务器模式。

2. 简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。
3. 灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。
4. 无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。　　
5. 无状态：HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。

> HTTP 报文
##### 请求报文：
- 请求行 —— 用来说明请求的类型，要访问的资源，以及使用的 HTTP 的版本。

- 请求头 —— 请求头用来通知服务器有关客户端请求的信息（Host：主机名，Connection: Keep-Alive 持久连接）。
- 空行 —— 表示请求头已经结束，接下来是请求正文。
- 请求体 —— 例如：name='张三'&password=1234 用来承载请求参数的数据。

##### 响应报文：
- 状态行；

- 响应头；
- 空行；
- 响应体；

> HTTP 请求方式
>
| 序号 | 方法 | 描述 |
| ---- | ---- | ---- |
| 1 | `GET` | 请求指定的页面信息，并返回实体主体。|
| 2 | `HEAD` | 类似于 GET 请求，只不过反悔的响应中没有具体的内容，用户获取报头。|
| 3 | `POST` | 向指定资源提交数据经行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中，POST 请求可能会导致新的资源的简历和或对已有资源的修改。|
| 4 | `PUT` | 从客户端向服务器传送的数据取代指定文档的内容。|
| 5 | `DELETE` | 请求服务器删除指定的页面。|
| 6 | `CONNECT` | HTTP/1.1 协议中预留给能够将链接改为管道方式的代理服务器。|
| 7 | `OPTIONS` | 允许客户端查看服务器的性能。|
| 8 | `TRACE` | 回显服务器收到的请求，主要用户测试或诊断。|
| 9 | `PATCH` | 是对 PUT 方法的补充，用来对已知资源进行局部更新。|

`前五种请求方式比较常用`

>状态码
>
状态代码由三位数字组成，第一个数字定义了响应的类别，且有五种可能取值：

- 1xx：指示信息–表示请求已接收，继续处理
- 2xx：成功–表示请求已被成功接收、理解、接受
- 3xx：重定向–要完成请求必须进行更进一步的操作
- 4xx：客户端错误–请求有语法错误或请求无法实现
- 5xx：服务器端错误–服务器未能实现合法的请求

常见状态代码、状态描述、说明：

- 200 OK //客户端请求成功
- 400 Bad Request //客户端请求有语法错误，不能被服务器所理解
- 401 Unauthorized //请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用
- 403 Forbidden //服务器收到请求，但是拒绝提供服务
- 404 Not Found //请求资源不存在，eg：输入了错误的URL
- 500 Internal Server Error //服务器发生不可预期的错误（服务器内部错误）
- 503 Server Unavailable //服务器当前不能处理客户端的请求，一段时间后可能恢复正常